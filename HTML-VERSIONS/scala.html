<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>scala.html</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<p>Scala - the scalable language</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode scala"><code class="sourceCode scala"><a class="sourceLine" id="cb1-1" title="1"></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="co">/////////////////////////////////////////////////</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co">// 0. Basics</span></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="co">/////////////////////////////////////////////////</span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="co">/*</span></a>
<a class="sourceLine" id="cb1-6" title="6"><span class="co">  Setup Scala:</span></a>
<a class="sourceLine" id="cb1-7" title="7"></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="co">  1) Download Scala - http://www.scala-lang.org/downloads</span></a>
<a class="sourceLine" id="cb1-9" title="9"><span class="co">  2) Unzip/untar to your favorite location and put the bin subdir in your `PATH` environment variable</span></a>
<a class="sourceLine" id="cb1-10" title="10"><span class="co">*/</span></a>
<a class="sourceLine" id="cb1-11" title="11"></a>
<a class="sourceLine" id="cb1-12" title="12"><span class="co">/*</span></a>
<a class="sourceLine" id="cb1-13" title="13"><span class="co">  Try the REPL</span></a>
<a class="sourceLine" id="cb1-14" title="14"></a>
<a class="sourceLine" id="cb1-15" title="15"><span class="co">  Scala has a tool called the REPL (Read-Eval-Print Loop) that is analogous to</span></a>
<a class="sourceLine" id="cb1-16" title="16"><span class="co">  commandline interpreters in many other languages. You may type any Scala</span></a>
<a class="sourceLine" id="cb1-17" title="17"><span class="co">  expression, and the result will be evaluated and printed.  </span></a>
<a class="sourceLine" id="cb1-18" title="18"></a>
<a class="sourceLine" id="cb1-19" title="19"><span class="co">  The REPL is a very handy tool to test and verify code.  Use it as you read</span></a>
<a class="sourceLine" id="cb1-20" title="20"><span class="co">  this tutorial to quickly explore concepts on your own.</span></a>
<a class="sourceLine" id="cb1-21" title="21"><span class="co">*/</span></a>
<a class="sourceLine" id="cb1-22" title="22"></a>
<a class="sourceLine" id="cb1-23" title="23"><span class="co">// Start a Scala REPL by running `scala`. You should see the prompt:</span></a>
<a class="sourceLine" id="cb1-24" title="24">$ scala</a>
<a class="sourceLine" id="cb1-25" title="25">scala&gt;</a>
<a class="sourceLine" id="cb1-26" title="26"></a>
<a class="sourceLine" id="cb1-27" title="27"><span class="co">// By default each expression you type is saved as a new numbered value</span></a>
<a class="sourceLine" id="cb1-28" title="28">scala&gt; <span class="dv">2</span> + <span class="dv">2</span></a>
<a class="sourceLine" id="cb1-29" title="29">res0: Int = <span class="dv">4</span></a>
<a class="sourceLine" id="cb1-30" title="30"></a>
<a class="sourceLine" id="cb1-31" title="31"><span class="co">// Default values can be reused.  Note the value type displayed in the result..</span></a>
<a class="sourceLine" id="cb1-32" title="32">scala&gt; res0 + <span class="dv">2</span></a>
<a class="sourceLine" id="cb1-33" title="33">res1: Int = <span class="dv">6</span></a>
<a class="sourceLine" id="cb1-34" title="34"></a>
<a class="sourceLine" id="cb1-35" title="35"><span class="co">// Scala is a strongly typed language. You can use the REPL to check the type</span></a>
<a class="sourceLine" id="cb1-36" title="36"><span class="co">// without evaluating an expression.</span></a>
<a class="sourceLine" id="cb1-37" title="37">scala&gt; :<span class="kw">type</span> (<span class="kw">true</span>, <span class="fl">2.0</span>)</a>
<a class="sourceLine" id="cb1-38" title="38">(Boolean, Double)</a>
<a class="sourceLine" id="cb1-39" title="39"></a>
<a class="sourceLine" id="cb1-40" title="40"><span class="co">// REPL sessions can be saved</span></a>
<a class="sourceLine" id="cb1-41" title="41">scala&gt; :save /sites/repl-test.<span class="fu">scala</span></a>
<a class="sourceLine" id="cb1-42" title="42"></a>
<a class="sourceLine" id="cb1-43" title="43"><span class="co">// Files can be loaded into the REPL</span></a>
<a class="sourceLine" id="cb1-44" title="44">scala&gt; :load /sites/repl-test.<span class="fu">scala</span></a>
<a class="sourceLine" id="cb1-45" title="45">Loading /sites/repl-test.<span class="fu">scala</span>...</a>
<a class="sourceLine" id="cb1-46" title="46">res2: Int = <span class="dv">4</span></a>
<a class="sourceLine" id="cb1-47" title="47">res3: Int = <span class="dv">6</span></a>
<a class="sourceLine" id="cb1-48" title="48"></a>
<a class="sourceLine" id="cb1-49" title="49"><span class="co">// You can search your recent history</span></a>
<a class="sourceLine" id="cb1-50" title="50">scala&gt; :h?</a>
<a class="sourceLine" id="cb1-51" title="51"><span class="dv">1</span> <span class="dv">2</span> + <span class="dv">2</span></a>
<a class="sourceLine" id="cb1-52" title="52"><span class="dv">2</span> res0 + <span class="dv">2</span></a>
<a class="sourceLine" id="cb1-53" title="53"><span class="dv">3</span> :save /sites/repl-test.<span class="fu">scala</span></a>
<a class="sourceLine" id="cb1-54" title="54"><span class="dv">4</span> :load /sites/repl-test.<span class="fu">scala</span></a>
<a class="sourceLine" id="cb1-55" title="55"><span class="dv">5</span> :h?</a>
<a class="sourceLine" id="cb1-56" title="56"></a>
<a class="sourceLine" id="cb1-57" title="57"><span class="co">// Now that you know how to play, let&#39;s learn a little scala...</span></a>
<a class="sourceLine" id="cb1-58" title="58"></a>
<a class="sourceLine" id="cb1-59" title="59"><span class="co">/////////////////////////////////////////////////</span></a>
<a class="sourceLine" id="cb1-60" title="60"><span class="co">// 1. Basics</span></a>
<a class="sourceLine" id="cb1-61" title="61"><span class="co">/////////////////////////////////////////////////</span></a>
<a class="sourceLine" id="cb1-62" title="62"></a>
<a class="sourceLine" id="cb1-63" title="63"><span class="co">// Single-line comments start with two forward slashes</span></a>
<a class="sourceLine" id="cb1-64" title="64"></a>
<a class="sourceLine" id="cb1-65" title="65"><span class="co">/*</span></a>
<a class="sourceLine" id="cb1-66" title="66"><span class="co">  Multi-line comments, as you can already see from above, look like this.</span></a>
<a class="sourceLine" id="cb1-67" title="67"><span class="co">*/</span></a>
<a class="sourceLine" id="cb1-68" title="68"></a>
<a class="sourceLine" id="cb1-69" title="69"><span class="co">// Printing, and forcing a new line on the next print</span></a>
<a class="sourceLine" id="cb1-70" title="70"><span class="fu">println</span>(<span class="st">&quot;Hello world!&quot;</span>)</a>
<a class="sourceLine" id="cb1-71" title="71"><span class="fu">println</span>(<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb1-72" title="72"><span class="co">// Hello world!</span></a>
<a class="sourceLine" id="cb1-73" title="73"><span class="co">// 10</span></a>
<a class="sourceLine" id="cb1-74" title="74"></a>
<a class="sourceLine" id="cb1-75" title="75"><span class="co">// Printing, without forcing a new line on next print</span></a>
<a class="sourceLine" id="cb1-76" title="76"><span class="fu">print</span>(<span class="st">&quot;Hello world&quot;</span>)</a>
<a class="sourceLine" id="cb1-77" title="77"><span class="fu">print</span>(<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb1-78" title="78"><span class="co">// Hello world10</span></a>
<a class="sourceLine" id="cb1-79" title="79"></a>
<a class="sourceLine" id="cb1-80" title="80"><span class="co">// Declaring values is done using either var or val.</span></a>
<a class="sourceLine" id="cb1-81" title="81"><span class="co">// val declarations are immutable, whereas vars are mutable. Immutability is</span></a>
<a class="sourceLine" id="cb1-82" title="82"><span class="co">// a good thing.</span></a>
<a class="sourceLine" id="cb1-83" title="83"><span class="kw">val</span> x = <span class="dv">10</span> <span class="co">// x is now 10</span></a>
<a class="sourceLine" id="cb1-84" title="84">x = <span class="dv">20</span>     <span class="co">// error: reassignment to val</span></a>
<a class="sourceLine" id="cb1-85" title="85"><span class="kw">var</span> y = <span class="dv">10</span></a>
<a class="sourceLine" id="cb1-86" title="86">y = <span class="dv">20</span>     <span class="co">// y is now 20</span></a>
<a class="sourceLine" id="cb1-87" title="87"></a>
<a class="sourceLine" id="cb1-88" title="88"><span class="co">/*</span></a>
<a class="sourceLine" id="cb1-89" title="89"><span class="co">  Scala is a statically typed language, yet note that in the above declarations,</span></a>
<a class="sourceLine" id="cb1-90" title="90"><span class="co">  we did not specify a type. This is due to a language feature called type</span></a>
<a class="sourceLine" id="cb1-91" title="91"><span class="co">  inference. In most cases, Scala compiler can guess what the type of a variable</span></a>
<a class="sourceLine" id="cb1-92" title="92"><span class="co">  is, so you don&#39;t have to type it every time. We can explicitly declare the</span></a>
<a class="sourceLine" id="cb1-93" title="93"><span class="co">  type of a variable like so:</span></a>
<a class="sourceLine" id="cb1-94" title="94"><span class="co">*/</span></a>
<a class="sourceLine" id="cb1-95" title="95"><span class="kw">val</span> z: Int = <span class="dv">10</span></a>
<a class="sourceLine" id="cb1-96" title="96"><span class="kw">val</span> a: Double = <span class="fl">1.0</span></a>
<a class="sourceLine" id="cb1-97" title="97"></a>
<a class="sourceLine" id="cb1-98" title="98"><span class="co">// Notice automatic conversion from Int to Double, result is 10.0, not 10</span></a>
<a class="sourceLine" id="cb1-99" title="99"><span class="kw">val</span> b: Double = <span class="dv">10</span></a>
<a class="sourceLine" id="cb1-100" title="100"></a>
<a class="sourceLine" id="cb1-101" title="101"><span class="co">// Boolean values</span></a>
<a class="sourceLine" id="cb1-102" title="102"><span class="kw">true</span></a>
<a class="sourceLine" id="cb1-103" title="103"><span class="kw">false</span></a>
<a class="sourceLine" id="cb1-104" title="104"></a>
<a class="sourceLine" id="cb1-105" title="105"><span class="co">// Boolean operations</span></a>
<a class="sourceLine" id="cb1-106" title="106">!<span class="kw">true</span>         <span class="co">// false</span></a>
<a class="sourceLine" id="cb1-107" title="107">!<span class="kw">false</span>        <span class="co">// true</span></a>
<a class="sourceLine" id="cb1-108" title="108"><span class="kw">true</span> == <span class="kw">false</span> <span class="co">// false</span></a>
<a class="sourceLine" id="cb1-109" title="109"><span class="dv">10</span> &gt; <span class="dv">5</span>        <span class="co">// true</span></a>
<a class="sourceLine" id="cb1-110" title="110"></a>
<a class="sourceLine" id="cb1-111" title="111"><span class="co">// Math is as per usual</span></a>
<a class="sourceLine" id="cb1-112" title="112"><span class="dv">1</span> + <span class="dv">1</span>   <span class="co">// 2</span></a>
<a class="sourceLine" id="cb1-113" title="113"><span class="dv">2</span> - <span class="dv">1</span>   <span class="co">// 1</span></a>
<a class="sourceLine" id="cb1-114" title="114"><span class="dv">5</span> * <span class="dv">3</span>   <span class="co">// 15</span></a>
<a class="sourceLine" id="cb1-115" title="115"><span class="dv">6</span> / <span class="dv">2</span>   <span class="co">// 3</span></a>
<a class="sourceLine" id="cb1-116" title="116"><span class="dv">6</span> / <span class="dv">4</span>   <span class="co">// 1</span></a>
<a class="sourceLine" id="cb1-117" title="117"><span class="fl">6.0</span> / <span class="dv">4</span> <span class="co">// 1.5</span></a>
<a class="sourceLine" id="cb1-118" title="118"><span class="dv">6</span> / <span class="fl">4.0</span> <span class="co">// 1.5</span></a>
<a class="sourceLine" id="cb1-119" title="119"></a>
<a class="sourceLine" id="cb1-120" title="120"></a>
<a class="sourceLine" id="cb1-121" title="121"><span class="co">// Evaluating an expression in the REPL gives you the type and value of the result</span></a>
<a class="sourceLine" id="cb1-122" title="122"></a>
<a class="sourceLine" id="cb1-123" title="123"><span class="dv">1</span> + <span class="dv">7</span></a>
<a class="sourceLine" id="cb1-124" title="124"></a>
<a class="sourceLine" id="cb1-125" title="125"><span class="co">/* The above line results in:</span></a>
<a class="sourceLine" id="cb1-126" title="126"></a>
<a class="sourceLine" id="cb1-127" title="127"><span class="co">  scala&gt; 1 + 7</span></a>
<a class="sourceLine" id="cb1-128" title="128"><span class="co">  res29: Int = 8</span></a>
<a class="sourceLine" id="cb1-129" title="129"></a>
<a class="sourceLine" id="cb1-130" title="130"><span class="co">  This means the result of evaluating 1 + 7 is an object of type Int with a</span></a>
<a class="sourceLine" id="cb1-131" title="131"><span class="co">  value of 8</span></a>
<a class="sourceLine" id="cb1-132" title="132"></a>
<a class="sourceLine" id="cb1-133" title="133"><span class="co">  Note that &quot;res29&quot; is a sequentially generated variable name to store the</span></a>
<a class="sourceLine" id="cb1-134" title="134"><span class="co">  results of the expressions you typed, your output may differ.</span></a>
<a class="sourceLine" id="cb1-135" title="135"><span class="co">*/</span></a>
<a class="sourceLine" id="cb1-136" title="136"></a>
<a class="sourceLine" id="cb1-137" title="137"><span class="st">&quot;Scala strings are surrounded by double quotes&quot;</span></a>
<a class="sourceLine" id="cb1-138" title="138"><span class="ch">&#39;a&#39;</span> <span class="co">// A Scala Char</span></a>
<a class="sourceLine" id="cb1-139" title="139"><span class="co">// &#39;Single quote strings don&#39;t exist&#39; &lt;= This causes an error</span></a>
<a class="sourceLine" id="cb1-140" title="140"></a>
<a class="sourceLine" id="cb1-141" title="141"><span class="co">// Strings have the usual Java methods defined on them</span></a>
<a class="sourceLine" id="cb1-142" title="142"><span class="st">&quot;hello world&quot;</span>.<span class="fu">length</span></a>
<a class="sourceLine" id="cb1-143" title="143"><span class="st">&quot;hello world&quot;</span>.<span class="fu">substring</span>(<span class="dv">2</span>, <span class="dv">6</span>)</a>
<a class="sourceLine" id="cb1-144" title="144"><span class="st">&quot;hello world&quot;</span>.<span class="fu">replace</span>(<span class="st">&quot;C&quot;</span>, <span class="st">&quot;3&quot;</span>)</a>
<a class="sourceLine" id="cb1-145" title="145"></a>
<a class="sourceLine" id="cb1-146" title="146"><span class="co">// They also have some extra Scala methods. See also: scala.collection.immutable.StringOps</span></a>
<a class="sourceLine" id="cb1-147" title="147"><span class="st">&quot;hello world&quot;</span>.<span class="fu">take</span>(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb1-148" title="148"><span class="st">&quot;hello world&quot;</span>.<span class="fu">drop</span>(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb1-149" title="149"></a>
<a class="sourceLine" id="cb1-150" title="150"><span class="co">// String interpolation: notice the prefix &quot;s&quot;</span></a>
<a class="sourceLine" id="cb1-151" title="151"><span class="kw">val</span> n = <span class="dv">45</span></a>
<a class="sourceLine" id="cb1-152" title="152">s<span class="st">&quot;We have $n apples&quot;</span> <span class="co">// =&gt; &quot;We have 45 apples&quot;</span></a>
<a class="sourceLine" id="cb1-153" title="153"></a>
<a class="sourceLine" id="cb1-154" title="154"><span class="co">// Expressions inside interpolated strings are also possible</span></a>
<a class="sourceLine" id="cb1-155" title="155"><span class="kw">val</span> a = Array(<span class="dv">11</span>, <span class="dv">9</span>, <span class="dv">6</span>)</a>
<a class="sourceLine" id="cb1-156" title="156">s<span class="st">&quot;My second daughter is ${a(0) - a(2)} years old.&quot;</span>    <span class="co">// =&gt; &quot;My second daughter is 5 years old.&quot;</span></a>
<a class="sourceLine" id="cb1-157" title="157">s<span class="st">&quot;We have double the amount of ${n / 2.0} in apples.&quot;</span> <span class="co">// =&gt; &quot;We have double the amount of 22.5 in apples.&quot;</span></a>
<a class="sourceLine" id="cb1-158" title="158">s<span class="st">&quot;Power of 2: ${math.pow(2, 2)}&quot;</span>                      <span class="co">// =&gt; &quot;Power of 2: 4&quot;</span></a>
<a class="sourceLine" id="cb1-159" title="159"></a>
<a class="sourceLine" id="cb1-160" title="160"><span class="co">// Formatting with interpolated strings with the prefix &quot;f&quot;</span></a>
<a class="sourceLine" id="cb1-161" title="161">f<span class="st">&quot;Power of 5: ${math.pow(5, 2)}%1.0f&quot;</span>         <span class="co">// &quot;Power of 5: 25&quot;</span></a>
<a class="sourceLine" id="cb1-162" title="162">f<span class="st">&quot;Square root of 122: ${math.sqrt(122)}%1.4f&quot;</span> <span class="co">// &quot;Square root of 122: 11.0454&quot;</span></a>
<a class="sourceLine" id="cb1-163" title="163"></a>
<a class="sourceLine" id="cb1-164" title="164"><span class="co">// Raw strings, ignoring special characters.</span></a>
<a class="sourceLine" id="cb1-165" title="165">raw<span class="st">&quot;New line feed: </span><span class="ch">\n</span><span class="st">. Carriage return: </span><span class="ch">\r</span><span class="st">.&quot;</span> <span class="co">// =&gt; &quot;New line feed: \n. Carriage return: \r.&quot;</span></a>
<a class="sourceLine" id="cb1-166" title="166"></a>
<a class="sourceLine" id="cb1-167" title="167"><span class="co">// Some characters need to be &quot;escaped&quot;, e.g. a double quote inside a string:</span></a>
<a class="sourceLine" id="cb1-168" title="168"><span class="st">&quot;They stood outside the </span><span class="ch">\&quot;</span><span class="st">Rose and Crown</span><span class="ch">\&quot;</span><span class="st">&quot;</span> <span class="co">// =&gt; &quot;They stood outside the &quot;Rose and Crown&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-169" title="169"></a>
<a class="sourceLine" id="cb1-170" title="170"><span class="co">// Triple double-quotes let strings span multiple rows and contain quotes</span></a>
<a class="sourceLine" id="cb1-171" title="171"><span class="kw">val</span> html = <span class="st">&quot;&quot;&quot;&lt;form id=&quot;</span>daform<span class="st">&quot;&gt;</span></a>
<a class="sourceLine" id="cb1-172" title="172">                &lt;p&gt;Press belo&#39;, Joe&lt;/p&gt;</a>
<a class="sourceLine" id="cb1-173" title="173">                &lt;input <span class="kw">type</span>=<span class="st">&quot;submit&quot;</span>&gt;</a>
<a class="sourceLine" id="cb1-174" title="174">              &lt;/form&gt;<span class="st">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb1-175" title="175"></a>
<a class="sourceLine" id="cb1-176" title="176"></a>
<a class="sourceLine" id="cb1-177" title="177"><span class="co">/////////////////////////////////////////////////</span></a>
<a class="sourceLine" id="cb1-178" title="178"><span class="co">// 2. Functions</span></a>
<a class="sourceLine" id="cb1-179" title="179"><span class="co">/////////////////////////////////////////////////</span></a>
<a class="sourceLine" id="cb1-180" title="180"></a>
<a class="sourceLine" id="cb1-181" title="181"><span class="co">// Functions are defined like so:</span></a>
<a class="sourceLine" id="cb1-182" title="182"><span class="co">//</span></a>
<a class="sourceLine" id="cb1-183" title="183"><span class="co">//   def functionName(args...): ReturnType = { body... }</span></a>
<a class="sourceLine" id="cb1-184" title="184"><span class="co">//</span></a>
<a class="sourceLine" id="cb1-185" title="185"><span class="co">// If you come from more traditional languages, notice the omission of the</span></a>
<a class="sourceLine" id="cb1-186" title="186"><span class="co">// return keyword. In Scala, the last expression in the function block is the</span></a>
<a class="sourceLine" id="cb1-187" title="187"><span class="co">// return value.</span></a>
<a class="sourceLine" id="cb1-188" title="188"><span class="kw">def</span> <span class="fu">sumOfSquares</span>(x: Int, y: Int): Int = {</a>
<a class="sourceLine" id="cb1-189" title="189">  <span class="kw">val</span> x2 = x * x</a>
<a class="sourceLine" id="cb1-190" title="190">  <span class="kw">val</span> y2 = y * y</a>
<a class="sourceLine" id="cb1-191" title="191">  x2 + y2</a>
<a class="sourceLine" id="cb1-192" title="192">}</a>
<a class="sourceLine" id="cb1-193" title="193"></a>
<a class="sourceLine" id="cb1-194" title="194"><span class="co">// The { } can be omitted if the function body is a single expression:</span></a>
<a class="sourceLine" id="cb1-195" title="195"><span class="kw">def</span> <span class="fu">sumOfSquaresShort</span>(x: Int, y: Int): Int = x * x + y * y</a>
<a class="sourceLine" id="cb1-196" title="196"></a>
<a class="sourceLine" id="cb1-197" title="197"><span class="co">// Syntax for calling functions is familiar:</span></a>
<a class="sourceLine" id="cb1-198" title="198"><span class="fu">sumOfSquares</span>(<span class="dv">3</span>, <span class="dv">4</span>)  <span class="co">// =&gt; 25</span></a>
<a class="sourceLine" id="cb1-199" title="199"></a>
<a class="sourceLine" id="cb1-200" title="200"><span class="co">// You can use parameters names to specify them in different order</span></a>
<a class="sourceLine" id="cb1-201" title="201"><span class="kw">def</span> <span class="fu">subtract</span>(x: Int, y: Int): Int = x - y</a>
<a class="sourceLine" id="cb1-202" title="202"></a>
<a class="sourceLine" id="cb1-203" title="203"><span class="fu">subtract</span>(<span class="dv">10</span>, <span class="dv">3</span>)     <span class="co">// =&gt; 7</span></a>
<a class="sourceLine" id="cb1-204" title="204"><span class="fu">subtract</span>(y=<span class="dv">10</span>, x=<span class="dv">3</span>) <span class="co">// =&gt; -7</span></a>
<a class="sourceLine" id="cb1-205" title="205"></a>
<a class="sourceLine" id="cb1-206" title="206"><span class="co">// In most cases (with recursive functions the most notable exception), function</span></a>
<a class="sourceLine" id="cb1-207" title="207"><span class="co">// return type can be omitted, and the same type inference we saw with variables</span></a>
<a class="sourceLine" id="cb1-208" title="208"><span class="co">// will work with function return values:</span></a>
<a class="sourceLine" id="cb1-209" title="209"><span class="kw">def</span> <span class="fu">sq</span>(x: Int) = x * x  <span class="co">// Compiler can guess return type is Int</span></a>
<a class="sourceLine" id="cb1-210" title="210"></a>
<a class="sourceLine" id="cb1-211" title="211"><span class="co">// Functions can have default parameters:</span></a>
<a class="sourceLine" id="cb1-212" title="212"><span class="kw">def</span> <span class="fu">addWithDefault</span>(x: Int, y: Int = <span class="dv">5</span>) = x + y</a>
<a class="sourceLine" id="cb1-213" title="213"><span class="fu">addWithDefault</span>(<span class="dv">1</span>, <span class="dv">2</span>) <span class="co">// =&gt; 3</span></a>
<a class="sourceLine" id="cb1-214" title="214"><span class="fu">addWithDefault</span>(<span class="dv">1</span>)    <span class="co">// =&gt; 6</span></a>
<a class="sourceLine" id="cb1-215" title="215"></a>
<a class="sourceLine" id="cb1-216" title="216"></a>
<a class="sourceLine" id="cb1-217" title="217"><span class="co">// Anonymous functions look like this:</span></a>
<a class="sourceLine" id="cb1-218" title="218">(x: Int) =&gt; x * x</a>
<a class="sourceLine" id="cb1-219" title="219"></a>
<a class="sourceLine" id="cb1-220" title="220"><span class="co">// Unlike defs, even the input type of anonymous functions can be omitted if the</span></a>
<a class="sourceLine" id="cb1-221" title="221"><span class="co">// context makes it clear. Notice the type &quot;Int =&gt; Int&quot; which means a function</span></a>
<a class="sourceLine" id="cb1-222" title="222"><span class="co">// that takes Int and returns Int.</span></a>
<a class="sourceLine" id="cb1-223" title="223"><span class="kw">val</span> sq: Int =&gt; Int = x =&gt; x * x</a>
<a class="sourceLine" id="cb1-224" title="224"></a>
<a class="sourceLine" id="cb1-225" title="225"><span class="co">// Anonymous functions can be called as usual:</span></a>
<a class="sourceLine" id="cb1-226" title="226"><span class="fu">sq</span>(<span class="dv">10</span>)   <span class="co">// =&gt; 100</span></a>
<a class="sourceLine" id="cb1-227" title="227"></a>
<a class="sourceLine" id="cb1-228" title="228"><span class="co">// If each argument in your anonymous function is</span></a>
<a class="sourceLine" id="cb1-229" title="229"><span class="co">// used only once, Scala gives you an even shorter way to define them. These</span></a>
<a class="sourceLine" id="cb1-230" title="230"><span class="co">// anonymous functions turn out to be extremely common, as will be obvious in</span></a>
<a class="sourceLine" id="cb1-231" title="231"><span class="co">// the data structure section.</span></a>
<a class="sourceLine" id="cb1-232" title="232"><span class="kw">val</span> addOne: Int =&gt; Int = _ + <span class="dv">1</span></a>
<a class="sourceLine" id="cb1-233" title="233"><span class="kw">val</span> weirdSum: (Int, Int) =&gt; Int = (_ * <span class="dv">2</span> + _ * <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb1-234" title="234"></a>
<a class="sourceLine" id="cb1-235" title="235"><span class="fu">addOne</span>(<span class="dv">5</span>)      <span class="co">// =&gt; 6</span></a>
<a class="sourceLine" id="cb1-236" title="236"><span class="fu">weirdSum</span>(<span class="dv">2</span>, <span class="dv">4</span>) <span class="co">// =&gt; 16</span></a>
<a class="sourceLine" id="cb1-237" title="237"></a>
<a class="sourceLine" id="cb1-238" title="238"></a>
<a class="sourceLine" id="cb1-239" title="239"><span class="co">// The return keyword exists in Scala, but it only returns from the inner-most</span></a>
<a class="sourceLine" id="cb1-240" title="240"><span class="co">// def that surrounds it.</span></a>
<a class="sourceLine" id="cb1-241" title="241"><span class="co">// WARNING: Using return in Scala is error-prone and should be avoided.</span></a>
<a class="sourceLine" id="cb1-242" title="242"><span class="co">// It has no effect on anonymous functions. For example here you may expect foo(7) should return 17 but it returns 7:</span></a>
<a class="sourceLine" id="cb1-243" title="243"><span class="kw">def</span> <span class="fu">foo</span>(x: Int): Int = {</a>
<a class="sourceLine" id="cb1-244" title="244">  <span class="kw">val</span> anonFunc: Int =&gt; Int = { z =&gt;</a>
<a class="sourceLine" id="cb1-245" title="245">    <span class="kw">if</span> (z &gt; <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb1-246" title="246">      <span class="kw">return</span> z <span class="co">// This line makes z the return value of foo!</span></a>
<a class="sourceLine" id="cb1-247" title="247">    <span class="kw">else</span></a>
<a class="sourceLine" id="cb1-248" title="248">      z + <span class="dv">2</span>    <span class="co">// This line is the return value of anonFunc</span></a>
<a class="sourceLine" id="cb1-249" title="249">  }</a>
<a class="sourceLine" id="cb1-250" title="250">  <span class="fu">anonFunc</span>(x) + <span class="dv">10</span>  <span class="co">// This line is the return value of foo</span></a>
<a class="sourceLine" id="cb1-251" title="251">}</a>
<a class="sourceLine" id="cb1-252" title="252"></a>
<a class="sourceLine" id="cb1-253" title="253"><span class="fu">foo</span>(<span class="dv">7</span>) <span class="co">// =&gt; 7</span></a>
<a class="sourceLine" id="cb1-254" title="254"></a>
<a class="sourceLine" id="cb1-255" title="255"><span class="co">/////////////////////////////////////////////////</span></a>
<a class="sourceLine" id="cb1-256" title="256"><span class="co">// 3. Flow Control</span></a>
<a class="sourceLine" id="cb1-257" title="257"><span class="co">/////////////////////////////////////////////////</span></a>
<a class="sourceLine" id="cb1-258" title="258"></a>
<a class="sourceLine" id="cb1-259" title="259"><span class="dv">1</span> to <span class="dv">5</span></a>
<a class="sourceLine" id="cb1-260" title="260"><span class="kw">val</span> r = <span class="dv">1</span> to <span class="dv">5</span></a>
<a class="sourceLine" id="cb1-261" title="261">r.<span class="fu">foreach</span>(println)</a>
<a class="sourceLine" id="cb1-262" title="262"></a>
<a class="sourceLine" id="cb1-263" title="263">r foreach println</a>
<a class="sourceLine" id="cb1-264" title="264"><span class="co">// NB: Scala is quite lenient when it comes to dots and brackets - study the</span></a>
<a class="sourceLine" id="cb1-265" title="265"><span class="co">// rules separately. This helps write DSLs and APIs that read like English</span></a>
<a class="sourceLine" id="cb1-266" title="266"></a>
<a class="sourceLine" id="cb1-267" title="267"><span class="co">// Why doesn&#39;t `println` need any parameters here?</span></a>
<a class="sourceLine" id="cb1-268" title="268"><span class="co">// Stay tuned for first-class functions in the Functional Programming section below!</span></a>
<a class="sourceLine" id="cb1-269" title="269">(<span class="dv">5</span> to <span class="dv">1</span> by <span class="dv">-1</span>) <span class="fu">foreach</span> (println)</a>
<a class="sourceLine" id="cb1-270" title="270"></a>
<a class="sourceLine" id="cb1-271" title="271"><span class="co">// A while loop</span></a>
<a class="sourceLine" id="cb1-272" title="272"><span class="kw">var</span> i = <span class="dv">0</span></a>
<a class="sourceLine" id="cb1-273" title="273"><span class="kw">while</span> (i &lt; <span class="dv">10</span>) { <span class="fu">println</span>(<span class="st">&quot;i &quot;</span> + i); i += <span class="dv">1</span> }</a>
<a class="sourceLine" id="cb1-274" title="274"></a>
<a class="sourceLine" id="cb1-275" title="275"><span class="kw">while</span> (i &lt; <span class="dv">10</span>) { <span class="fu">println</span>(<span class="st">&quot;i &quot;</span> + i); i += <span class="dv">1</span> }   <span class="co">// Yes, again. What happened? Why?</span></a>
<a class="sourceLine" id="cb1-276" title="276"></a>
<a class="sourceLine" id="cb1-277" title="277">i    <span class="co">// Show the value of i. Note that while is a loop in the classical sense -</span></a>
<a class="sourceLine" id="cb1-278" title="278">     <span class="co">// it executes sequentially while changing the loop variable. while is very</span></a>
<a class="sourceLine" id="cb1-279" title="279">     <span class="co">// fast, but using the combinators and comprehensions above is easier</span></a>
<a class="sourceLine" id="cb1-280" title="280">     <span class="co">// to understand and parallelize</span></a>
<a class="sourceLine" id="cb1-281" title="281"></a>
<a class="sourceLine" id="cb1-282" title="282"><span class="co">// A do-while loop</span></a>
<a class="sourceLine" id="cb1-283" title="283">i = <span class="dv">0</span></a>
<a class="sourceLine" id="cb1-284" title="284"><span class="kw">do</span> {</a>
<a class="sourceLine" id="cb1-285" title="285">  <span class="fu">println</span>(<span class="st">&quot;i is still less than 10&quot;</span>)</a>
<a class="sourceLine" id="cb1-286" title="286">  i += <span class="dv">1</span></a>
<a class="sourceLine" id="cb1-287" title="287">} <span class="kw">while</span> (i &lt; <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb1-288" title="288"></a>
<a class="sourceLine" id="cb1-289" title="289"><span class="co">// Recursion is the idiomatic way of repeating an action in Scala (as in most</span></a>
<a class="sourceLine" id="cb1-290" title="290"><span class="co">// other functional languages).</span></a>
<a class="sourceLine" id="cb1-291" title="291"><span class="co">// Recursive functions need an explicit return type, the compiler can&#39;t infer it.</span></a>
<a class="sourceLine" id="cb1-292" title="292"><span class="co">// Here it&#39;s Unit, which is analagous to a `void` return type in Java</span></a>
<a class="sourceLine" id="cb1-293" title="293"><span class="kw">def</span> <span class="fu">showNumbersInRange</span>(a: Int, b: Int): Unit = {</a>
<a class="sourceLine" id="cb1-294" title="294">  <span class="fu">print</span>(a)</a>
<a class="sourceLine" id="cb1-295" title="295">  <span class="kw">if</span> (a &lt; b)</a>
<a class="sourceLine" id="cb1-296" title="296">    <span class="fu">showNumbersInRange</span>(a + <span class="dv">1</span>, b)</a>
<a class="sourceLine" id="cb1-297" title="297">}</a>
<a class="sourceLine" id="cb1-298" title="298"><span class="fu">showNumbersInRange</span>(<span class="dv">1</span>, <span class="dv">14</span>)</a>
<a class="sourceLine" id="cb1-299" title="299"></a>
<a class="sourceLine" id="cb1-300" title="300"></a>
<a class="sourceLine" id="cb1-301" title="301"><span class="co">// Conditionals</span></a>
<a class="sourceLine" id="cb1-302" title="302"></a>
<a class="sourceLine" id="cb1-303" title="303"><span class="kw">val</span> x = <span class="dv">10</span></a>
<a class="sourceLine" id="cb1-304" title="304"></a>
<a class="sourceLine" id="cb1-305" title="305"><span class="kw">if</span> (x == <span class="dv">1</span>) <span class="fu">println</span>(<span class="st">&quot;yeah&quot;</span>)</a>
<a class="sourceLine" id="cb1-306" title="306"><span class="kw">if</span> (x == <span class="dv">10</span>) <span class="fu">println</span>(<span class="st">&quot;yeah&quot;</span>)</a>
<a class="sourceLine" id="cb1-307" title="307"><span class="kw">if</span> (x == <span class="dv">11</span>) <span class="fu">println</span>(<span class="st">&quot;yeah&quot;</span>)</a>
<a class="sourceLine" id="cb1-308" title="308"><span class="kw">if</span> (x == <span class="dv">11</span>) <span class="fu">println</span>(<span class="st">&quot;yeah&quot;</span>) <span class="kw">else</span> <span class="fu">println</span>(<span class="st">&quot;nay&quot;</span>)</a>
<a class="sourceLine" id="cb1-309" title="309"></a>
<a class="sourceLine" id="cb1-310" title="310"><span class="fu">println</span>(<span class="kw">if</span> (x == <span class="dv">10</span>) <span class="st">&quot;yeah&quot;</span> <span class="kw">else</span> <span class="st">&quot;nope&quot;</span>)</a>
<a class="sourceLine" id="cb1-311" title="311"><span class="kw">val</span> text = <span class="kw">if</span> (x == <span class="dv">10</span>) <span class="st">&quot;yeah&quot;</span> <span class="kw">else</span> <span class="st">&quot;nope&quot;</span></a>
<a class="sourceLine" id="cb1-312" title="312"></a>
<a class="sourceLine" id="cb1-313" title="313"></a>
<a class="sourceLine" id="cb1-314" title="314"><span class="co">/////////////////////////////////////////////////</span></a>
<a class="sourceLine" id="cb1-315" title="315"><span class="co">// 4. Data Structures</span></a>
<a class="sourceLine" id="cb1-316" title="316"><span class="co">/////////////////////////////////////////////////</span></a>
<a class="sourceLine" id="cb1-317" title="317"></a>
<a class="sourceLine" id="cb1-318" title="318"><span class="kw">val</span> a = Array(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">8</span>, <span class="dv">13</span>)</a>
<a class="sourceLine" id="cb1-319" title="319"><span class="fu">a</span>(<span class="dv">0</span>)     <span class="co">// Int = 1</span></a>
<a class="sourceLine" id="cb1-320" title="320"><span class="fu">a</span>(<span class="dv">3</span>)     <span class="co">// Int = 5</span></a>
<a class="sourceLine" id="cb1-321" title="321"><span class="fu">a</span>(<span class="dv">21</span>)    <span class="co">// Throws an exception</span></a>
<a class="sourceLine" id="cb1-322" title="322"></a>
<a class="sourceLine" id="cb1-323" title="323"><span class="kw">val</span> m = Map(<span class="st">&quot;fork&quot;</span> -&gt; <span class="st">&quot;tenedor&quot;</span>, <span class="st">&quot;spoon&quot;</span> -&gt; <span class="st">&quot;cuchara&quot;</span>, <span class="st">&quot;knife&quot;</span> -&gt; <span class="st">&quot;cuchillo&quot;</span>)</a>
<a class="sourceLine" id="cb1-324" title="324"><span class="fu">m</span>(<span class="st">&quot;fork&quot;</span>)         <span class="co">// java.lang.String = tenedor</span></a>
<a class="sourceLine" id="cb1-325" title="325"><span class="fu">m</span>(<span class="st">&quot;spoon&quot;</span>)        <span class="co">// java.lang.String = cuchara</span></a>
<a class="sourceLine" id="cb1-326" title="326"><span class="fu">m</span>(<span class="st">&quot;bottle&quot;</span>)       <span class="co">// Throws an exception</span></a>
<a class="sourceLine" id="cb1-327" title="327"></a>
<a class="sourceLine" id="cb1-328" title="328"><span class="kw">val</span> safeM = m.<span class="fu">withDefaultValue</span>(<span class="st">&quot;no lo se&quot;</span>)</a>
<a class="sourceLine" id="cb1-329" title="329"><span class="fu">safeM</span>(<span class="st">&quot;bottle&quot;</span>)   <span class="co">// java.lang.String = no lo se</span></a>
<a class="sourceLine" id="cb1-330" title="330"></a>
<a class="sourceLine" id="cb1-331" title="331"><span class="kw">val</span> s = Set(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">7</span>)</a>
<a class="sourceLine" id="cb1-332" title="332"><span class="fu">s</span>(<span class="dv">0</span>)      <span class="co">// Boolean = false</span></a>
<a class="sourceLine" id="cb1-333" title="333"><span class="fu">s</span>(<span class="dv">1</span>)      <span class="co">// Boolean = true</span></a>
<a class="sourceLine" id="cb1-334" title="334"></a>
<a class="sourceLine" id="cb1-335" title="335"><span class="co">/* Look up the documentation of map here -</span></a>
<a class="sourceLine" id="cb1-336" title="336"><span class="co"> * https://www.scala-lang.org/api/current/scala/collection/immutable/Map.html</span></a>
<a class="sourceLine" id="cb1-337" title="337"><span class="co"> * and make sure you can read it</span></a>
<a class="sourceLine" id="cb1-338" title="338"><span class="co"> */</span></a>
<a class="sourceLine" id="cb1-339" title="339"></a>
<a class="sourceLine" id="cb1-340" title="340"></a>
<a class="sourceLine" id="cb1-341" title="341"><span class="co">// Tuples</span></a>
<a class="sourceLine" id="cb1-342" title="342"></a>
<a class="sourceLine" id="cb1-343" title="343">(<span class="dv">1</span>, <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb1-344" title="344"></a>
<a class="sourceLine" id="cb1-345" title="345">(<span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb1-346" title="346"></a>
<a class="sourceLine" id="cb1-347" title="347">(<span class="dv">1</span>, <span class="dv">2</span>, <span class="st">&quot;three&quot;</span>)</a>
<a class="sourceLine" id="cb1-348" title="348"></a>
<a class="sourceLine" id="cb1-349" title="349">(a, <span class="dv">2</span>, <span class="st">&quot;three&quot;</span>)</a>
<a class="sourceLine" id="cb1-350" title="350"></a>
<a class="sourceLine" id="cb1-351" title="351"><span class="co">// Why have this?</span></a>
<a class="sourceLine" id="cb1-352" title="352"><span class="kw">val</span> divideInts = (x: Int, y: Int) =&gt; (x / y, x % y)</a>
<a class="sourceLine" id="cb1-353" title="353"></a>
<a class="sourceLine" id="cb1-354" title="354"><span class="co">// The function divideInts gives you the result and the remainder</span></a>
<a class="sourceLine" id="cb1-355" title="355"><span class="fu">divideInts</span>(<span class="dv">10</span>, <span class="dv">3</span>)    <span class="co">// (Int, Int) = (3,1)</span></a>
<a class="sourceLine" id="cb1-356" title="356"></a>
<a class="sourceLine" id="cb1-357" title="357"><span class="co">// To access the elements of a tuple, use _._n where n is the 1-based index of</span></a>
<a class="sourceLine" id="cb1-358" title="358"><span class="co">// the element</span></a>
<a class="sourceLine" id="cb1-359" title="359"><span class="kw">val</span> d = <span class="fu">divideInts</span>(<span class="dv">10</span>, <span class="dv">3</span>)    <span class="co">// (Int, Int) = (3,1)</span></a>
<a class="sourceLine" id="cb1-360" title="360"></a>
<a class="sourceLine" id="cb1-361" title="361">d._<span class="dv">1</span>    <span class="co">// Int = 3</span></a>
<a class="sourceLine" id="cb1-362" title="362">d._<span class="dv">2</span>    <span class="co">// Int = 1</span></a>
<a class="sourceLine" id="cb1-363" title="363"></a>
<a class="sourceLine" id="cb1-364" title="364"><span class="co">// Alternatively you can do multiple-variable assignment to tuple, which is more</span></a>
<a class="sourceLine" id="cb1-365" title="365"><span class="co">// convenient and readable in many cases</span></a>
<a class="sourceLine" id="cb1-366" title="366"><span class="kw">val</span> (div, mod) = <span class="fu">divideInts</span>(<span class="dv">10</span>, <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb1-367" title="367"></a>
<a class="sourceLine" id="cb1-368" title="368">div     <span class="co">// Int = 3</span></a>
<a class="sourceLine" id="cb1-369" title="369">mod     <span class="co">// Int = 1</span></a>
<a class="sourceLine" id="cb1-370" title="370"></a>
<a class="sourceLine" id="cb1-371" title="371"></a>
<a class="sourceLine" id="cb1-372" title="372"><span class="co">/////////////////////////////////////////////////</span></a>
<a class="sourceLine" id="cb1-373" title="373"><span class="co">// 5. Object Oriented Programming</span></a>
<a class="sourceLine" id="cb1-374" title="374"><span class="co">/////////////////////////////////////////////////</span></a>
<a class="sourceLine" id="cb1-375" title="375"></a>
<a class="sourceLine" id="cb1-376" title="376"><span class="co">/*</span></a>
<a class="sourceLine" id="cb1-377" title="377"><span class="co">  Aside: Everything we&#39;ve done so far in this tutorial has been simple</span></a>
<a class="sourceLine" id="cb1-378" title="378"><span class="co">  expressions (values, functions, etc). These expressions are fine to type into</span></a>
<a class="sourceLine" id="cb1-379" title="379"><span class="co">  the command-line interpreter for quick tests, but they cannot exist by</span></a>
<a class="sourceLine" id="cb1-380" title="380"><span class="co">  themselves in a Scala file. For example, you cannot have just &quot;val x = 5&quot; in</span></a>
<a class="sourceLine" id="cb1-381" title="381"><span class="co">  a Scala file. Instead, the only top-level constructs allowed in Scala are:</span></a>
<a class="sourceLine" id="cb1-382" title="382"></a>
<a class="sourceLine" id="cb1-383" title="383"><span class="co">  - objects</span></a>
<a class="sourceLine" id="cb1-384" title="384"><span class="co">  - classes</span></a>
<a class="sourceLine" id="cb1-385" title="385"><span class="co">  - case classes</span></a>
<a class="sourceLine" id="cb1-386" title="386"><span class="co">  - traits</span></a>
<a class="sourceLine" id="cb1-387" title="387"></a>
<a class="sourceLine" id="cb1-388" title="388"><span class="co">  And now we will explain what these are.</span></a>
<a class="sourceLine" id="cb1-389" title="389"><span class="co">*/</span></a>
<a class="sourceLine" id="cb1-390" title="390"></a>
<a class="sourceLine" id="cb1-391" title="391"><span class="co">// classes are similar to classes in other languages. Constructor arguments are</span></a>
<a class="sourceLine" id="cb1-392" title="392"><span class="co">// declared after the class name, and initialization is done in the class body.</span></a>
<a class="sourceLine" id="cb1-393" title="393"><span class="kw">class</span> <span class="fu">Dog</span>(br: String) {</a>
<a class="sourceLine" id="cb1-394" title="394">  <span class="co">// Constructor code here</span></a>
<a class="sourceLine" id="cb1-395" title="395">  <span class="kw">var</span> breed: String = br</a>
<a class="sourceLine" id="cb1-396" title="396"></a>
<a class="sourceLine" id="cb1-397" title="397">  <span class="co">// Define a method called bark, returning a String</span></a>
<a class="sourceLine" id="cb1-398" title="398">  <span class="kw">def</span> bark = <span class="st">&quot;Woof, woof!&quot;</span></a>
<a class="sourceLine" id="cb1-399" title="399"></a>
<a class="sourceLine" id="cb1-400" title="400">  <span class="co">// Values and methods are assumed public. &quot;protected&quot; and &quot;private&quot; keywords</span></a>
<a class="sourceLine" id="cb1-401" title="401">  <span class="co">// are also available.</span></a>
<a class="sourceLine" id="cb1-402" title="402">  <span class="kw">private</span> <span class="kw">def</span> <span class="fu">sleep</span>(hours: Int) =</a>
<a class="sourceLine" id="cb1-403" title="403">    <span class="fu">println</span>(s<span class="st">&quot;I&#39;m sleeping for $hours hours&quot;</span>)</a>
<a class="sourceLine" id="cb1-404" title="404"></a>
<a class="sourceLine" id="cb1-405" title="405">  <span class="co">// Abstract methods are simply methods with no body. If we uncomment the</span></a>
<a class="sourceLine" id="cb1-406" title="406">  <span class="co">// def line below, class Dog would need to be declared abstract like so:</span></a>
<a class="sourceLine" id="cb1-407" title="407">  <span class="co">//   abstract class Dog(...) { ... }</span></a>
<a class="sourceLine" id="cb1-408" title="408">  <span class="co">// def chaseAfter(what: String): String</span></a>
<a class="sourceLine" id="cb1-409" title="409">}</a>
<a class="sourceLine" id="cb1-410" title="410"></a>
<a class="sourceLine" id="cb1-411" title="411"><span class="kw">val</span> mydog = <span class="kw">new</span> <span class="fu">Dog</span>(<span class="st">&quot;greyhound&quot;</span>)</a>
<a class="sourceLine" id="cb1-412" title="412"><span class="fu">println</span>(mydog.<span class="fu">breed</span>) <span class="co">// =&gt; &quot;greyhound&quot;</span></a>
<a class="sourceLine" id="cb1-413" title="413"><span class="fu">println</span>(mydog.<span class="fu">bark</span>)  <span class="co">// =&gt; &quot;Woof, woof!&quot;</span></a>
<a class="sourceLine" id="cb1-414" title="414"></a>
<a class="sourceLine" id="cb1-415" title="415"></a>
<a class="sourceLine" id="cb1-416" title="416"><span class="co">// The &quot;object&quot; keyword creates a type AND a singleton instance of it. It is</span></a>
<a class="sourceLine" id="cb1-417" title="417"><span class="co">// common for Scala classes to have a &quot;companion object&quot;, where the per-instance</span></a>
<a class="sourceLine" id="cb1-418" title="418"><span class="co">// behavior is captured in the classes themselves, but behavior related to all</span></a>
<a class="sourceLine" id="cb1-419" title="419"><span class="co">// instance of that class go in objects. The difference is similar to class</span></a>
<a class="sourceLine" id="cb1-420" title="420"><span class="co">// methods vs static methods in other languages. Note that objects and classes</span></a>
<a class="sourceLine" id="cb1-421" title="421"><span class="co">// can have the same name.</span></a>
<a class="sourceLine" id="cb1-422" title="422"><span class="kw">object</span> Dog {</a>
<a class="sourceLine" id="cb1-423" title="423">  <span class="kw">def</span> allKnownBreeds = List(<span class="st">&quot;pitbull&quot;</span>, <span class="st">&quot;shepherd&quot;</span>, <span class="st">&quot;retriever&quot;</span>)</a>
<a class="sourceLine" id="cb1-424" title="424">  <span class="kw">def</span> <span class="fu">createDog</span>(breed: String) = <span class="kw">new</span> <span class="fu">Dog</span>(breed)</a>
<a class="sourceLine" id="cb1-425" title="425">}</a>
<a class="sourceLine" id="cb1-426" title="426"></a>
<a class="sourceLine" id="cb1-427" title="427"></a>
<a class="sourceLine" id="cb1-428" title="428"><span class="co">// Case classes are classes that have extra functionality built in. A common</span></a>
<a class="sourceLine" id="cb1-429" title="429"><span class="co">// question for Scala beginners is when to use classes and when to use case</span></a>
<a class="sourceLine" id="cb1-430" title="430"><span class="co">// classes. The line is quite fuzzy, but in general, classes tend to focus on</span></a>
<a class="sourceLine" id="cb1-431" title="431"><span class="co">// encapsulation, polymorphism, and behavior. The values in these classes tend</span></a>
<a class="sourceLine" id="cb1-432" title="432"><span class="co">// to be private, and only methods are exposed. The primary purpose of case</span></a>
<a class="sourceLine" id="cb1-433" title="433"><span class="co">// classes is to hold immutable data. They often have few methods, and the</span></a>
<a class="sourceLine" id="cb1-434" title="434"><span class="co">// methods rarely have side-effects.</span></a>
<a class="sourceLine" id="cb1-435" title="435"><span class="kw">case</span> <span class="kw">class</span> <span class="fu">Person</span>(name: String, phoneNumber: String)</a>
<a class="sourceLine" id="cb1-436" title="436"></a>
<a class="sourceLine" id="cb1-437" title="437"><span class="co">// Create a new instance. Note cases classes don&#39;t need &quot;new&quot;</span></a>
<a class="sourceLine" id="cb1-438" title="438"><span class="kw">val</span> george = <span class="fu">Person</span>(<span class="st">&quot;George&quot;</span>, <span class="st">&quot;1234&quot;</span>)</a>
<a class="sourceLine" id="cb1-439" title="439"><span class="kw">val</span> kate = <span class="fu">Person</span>(<span class="st">&quot;Kate&quot;</span>, <span class="st">&quot;4567&quot;</span>)</a>
<a class="sourceLine" id="cb1-440" title="440"></a>
<a class="sourceLine" id="cb1-441" title="441"><span class="co">// With case classes, you get a few perks for free, like getters:</span></a>
<a class="sourceLine" id="cb1-442" title="442">george.<span class="fu">phoneNumber</span>  <span class="co">// =&gt; &quot;1234&quot;</span></a>
<a class="sourceLine" id="cb1-443" title="443"></a>
<a class="sourceLine" id="cb1-444" title="444"><span class="co">// Per field equality (no need to override .equals)</span></a>
<a class="sourceLine" id="cb1-445" title="445"><span class="fu">Person</span>(<span class="st">&quot;George&quot;</span>, <span class="st">&quot;1234&quot;</span>) == <span class="fu">Person</span>(<span class="st">&quot;Kate&quot;</span>, <span class="st">&quot;1236&quot;</span>)  <span class="co">// =&gt; false</span></a>
<a class="sourceLine" id="cb1-446" title="446"></a>
<a class="sourceLine" id="cb1-447" title="447"><span class="co">// Easy way to copy</span></a>
<a class="sourceLine" id="cb1-448" title="448"><span class="co">// otherGeorge == Person(&quot;George&quot;, &quot;9876&quot;)</span></a>
<a class="sourceLine" id="cb1-449" title="449"><span class="kw">val</span> otherGeorge = george.<span class="fu">copy</span>(phoneNumber = <span class="st">&quot;9876&quot;</span>)</a>
<a class="sourceLine" id="cb1-450" title="450"></a>
<a class="sourceLine" id="cb1-451" title="451"><span class="co">// And many others. Case classes also get pattern matching for free, see below.</span></a>
<a class="sourceLine" id="cb1-452" title="452"></a>
<a class="sourceLine" id="cb1-453" title="453"><span class="co">// Traits</span></a>
<a class="sourceLine" id="cb1-454" title="454"><span class="co">// Similar to Java interfaces, traits define an object type and method</span></a>
<a class="sourceLine" id="cb1-455" title="455"><span class="co">// signatures. Scala allows partial implementation of those methods.</span></a>
<a class="sourceLine" id="cb1-456" title="456"><span class="co">// Constructor parameters are not allowed. Traits can inherit from other</span></a>
<a class="sourceLine" id="cb1-457" title="457"><span class="co">// traits or classes without parameters.</span></a>
<a class="sourceLine" id="cb1-458" title="458"></a>
<a class="sourceLine" id="cb1-459" title="459"><span class="kw">trait</span> Dog {</a>
<a class="sourceLine" id="cb1-460" title="460">    <span class="kw">def</span> breed: String</a>
<a class="sourceLine" id="cb1-461" title="461">    <span class="kw">def</span> color: String</a>
<a class="sourceLine" id="cb1-462" title="462">    <span class="kw">def</span> bark: Boolean = <span class="kw">true</span></a>
<a class="sourceLine" id="cb1-463" title="463">    <span class="kw">def</span> bite: Boolean</a>
<a class="sourceLine" id="cb1-464" title="464">}</a>
<a class="sourceLine" id="cb1-465" title="465"><span class="kw">class</span> SaintBernard <span class="kw">extends</span> Dog {</a>
<a class="sourceLine" id="cb1-466" title="466">    <span class="kw">val</span> breed = <span class="st">&quot;Saint Bernard&quot;</span></a>
<a class="sourceLine" id="cb1-467" title="467">    <span class="kw">val</span> color = <span class="st">&quot;brown&quot;</span></a>
<a class="sourceLine" id="cb1-468" title="468">    <span class="kw">def</span> bite = <span class="kw">false</span></a>
<a class="sourceLine" id="cb1-469" title="469">}  </a>
<a class="sourceLine" id="cb1-470" title="470"></a>
<a class="sourceLine" id="cb1-471" title="471">scala&gt; b  </a>
<a class="sourceLine" id="cb1-472" title="472">res0: SaintBernard = SaintBernard@<span class="fl">3e57</span>cd70  </a>
<a class="sourceLine" id="cb1-473" title="473">scala&gt; b.<span class="fu">breed</span>  </a>
<a class="sourceLine" id="cb1-474" title="474">res1: String = Saint Bernard  </a>
<a class="sourceLine" id="cb1-475" title="475">scala&gt; b.<span class="fu">bark</span>  </a>
<a class="sourceLine" id="cb1-476" title="476">res2: Boolean = <span class="kw">true</span>  </a>
<a class="sourceLine" id="cb1-477" title="477">scala&gt; b.<span class="fu">bite</span>  </a>
<a class="sourceLine" id="cb1-478" title="478">res3: Boolean = <span class="kw">false</span>  </a>
<a class="sourceLine" id="cb1-479" title="479"></a>
<a class="sourceLine" id="cb1-480" title="480"><span class="co">// A trait can also be used as Mixin. The class &quot;extends&quot; the first trait,</span></a>
<a class="sourceLine" id="cb1-481" title="481"><span class="co">// but the keyword &quot;with&quot; can add additional traits.</span></a>
<a class="sourceLine" id="cb1-482" title="482"></a>
<a class="sourceLine" id="cb1-483" title="483"><span class="kw">trait</span> Bark {</a>
<a class="sourceLine" id="cb1-484" title="484">    <span class="kw">def</span> bark: String = <span class="st">&quot;Woof&quot;</span></a>
<a class="sourceLine" id="cb1-485" title="485">}</a>
<a class="sourceLine" id="cb1-486" title="486"><span class="kw">trait</span> Dog {</a>
<a class="sourceLine" id="cb1-487" title="487">    <span class="kw">def</span> breed: String</a>
<a class="sourceLine" id="cb1-488" title="488">    <span class="kw">def</span> color: String</a>
<a class="sourceLine" id="cb1-489" title="489">}</a>
<a class="sourceLine" id="cb1-490" title="490"><span class="kw">class</span> SaintBernard <span class="kw">extends</span> Dog <span class="kw">with</span> Bark {</a>
<a class="sourceLine" id="cb1-491" title="491">    <span class="kw">val</span> breed = <span class="st">&quot;Saint Bernard&quot;</span></a>
<a class="sourceLine" id="cb1-492" title="492">    <span class="kw">val</span> color = <span class="st">&quot;brown&quot;</span></a>
<a class="sourceLine" id="cb1-493" title="493">}</a>
<a class="sourceLine" id="cb1-494" title="494"></a>
<a class="sourceLine" id="cb1-495" title="495">scala&gt; <span class="kw">val</span> b = <span class="kw">new</span> SaintBernard</a>
<a class="sourceLine" id="cb1-496" title="496">b: SaintBernard = SaintBernard@7b69c6ba</a>
<a class="sourceLine" id="cb1-497" title="497">scala&gt; b.<span class="fu">bark</span></a>
<a class="sourceLine" id="cb1-498" title="498">res0: String = Woof</a>
<a class="sourceLine" id="cb1-499" title="499"></a>
<a class="sourceLine" id="cb1-500" title="500"></a>
<a class="sourceLine" id="cb1-501" title="501"><span class="co">/////////////////////////////////////////////////</span></a>
<a class="sourceLine" id="cb1-502" title="502"><span class="co">// 6. Pattern Matching</span></a>
<a class="sourceLine" id="cb1-503" title="503"><span class="co">/////////////////////////////////////////////////</span></a>
<a class="sourceLine" id="cb1-504" title="504"></a>
<a class="sourceLine" id="cb1-505" title="505"><span class="co">// Pattern matching is a powerful and commonly used feature in Scala. Here&#39;s how</span></a>
<a class="sourceLine" id="cb1-506" title="506"><span class="co">// you pattern match a case class. NB: Unlike other languages, Scala cases do</span></a>
<a class="sourceLine" id="cb1-507" title="507"><span class="co">// not need breaks, fall-through does not happen.</span></a>
<a class="sourceLine" id="cb1-508" title="508"></a>
<a class="sourceLine" id="cb1-509" title="509"><span class="kw">def</span> <span class="fu">matchPerson</span>(person: Person): String = person <span class="kw">match</span> {</a>
<a class="sourceLine" id="cb1-510" title="510">  <span class="co">// Then you specify the patterns:</span></a>
<a class="sourceLine" id="cb1-511" title="511">  <span class="kw">case</span> <span class="fu">Person</span>(<span class="st">&quot;George&quot;</span>, number) =&gt; <span class="st">&quot;We found George! His number is &quot;</span> + number</a>
<a class="sourceLine" id="cb1-512" title="512">  <span class="kw">case</span> <span class="fu">Person</span>(<span class="st">&quot;Kate&quot;</span>, number)   =&gt; <span class="st">&quot;We found Kate! Her number is &quot;</span> + number</a>
<a class="sourceLine" id="cb1-513" title="513">  <span class="kw">case</span> <span class="fu">Person</span>(name, number)     =&gt; <span class="st">&quot;We matched someone : &quot;</span> + name + <span class="st">&quot;, phone : &quot;</span> + number</a>
<a class="sourceLine" id="cb1-514" title="514">}</a>
<a class="sourceLine" id="cb1-515" title="515"></a>
<a class="sourceLine" id="cb1-516" title="516"><span class="co">// Regular expressions are also built in.</span></a>
<a class="sourceLine" id="cb1-517" title="517"><span class="co">// Create a regex with the `r` method on a string:</span></a>
<a class="sourceLine" id="cb1-518" title="518"><span class="kw">val</span> email = <span class="st">&quot;(.*)@(.*)&quot;</span>.<span class="fu">r</span></a>
<a class="sourceLine" id="cb1-519" title="519"></a>
<a class="sourceLine" id="cb1-520" title="520"><span class="co">// Pattern matching might look familiar to the switch statements in the C family</span></a>
<a class="sourceLine" id="cb1-521" title="521"><span class="co">// of languages, but this is much more powerful. In Scala, you can match much</span></a>
<a class="sourceLine" id="cb1-522" title="522"><span class="co">// more:</span></a>
<a class="sourceLine" id="cb1-523" title="523"><span class="kw">def</span> <span class="fu">matchEverything</span>(obj: Any): String = obj <span class="kw">match</span> {</a>
<a class="sourceLine" id="cb1-524" title="524">  <span class="co">// You can match values:</span></a>
<a class="sourceLine" id="cb1-525" title="525">  <span class="kw">case</span> <span class="st">&quot;Hello world&quot;</span> =&gt; <span class="st">&quot;Got the string Hello world&quot;</span></a>
<a class="sourceLine" id="cb1-526" title="526"></a>
<a class="sourceLine" id="cb1-527" title="527">  <span class="co">// You can match by type:</span></a>
<a class="sourceLine" id="cb1-528" title="528">  <span class="kw">case</span> x: Double =&gt; <span class="st">&quot;Got a Double: &quot;</span> + x</a>
<a class="sourceLine" id="cb1-529" title="529"></a>
<a class="sourceLine" id="cb1-530" title="530">  <span class="co">// You can specify conditions:</span></a>
<a class="sourceLine" id="cb1-531" title="531">  <span class="kw">case</span> x: Int <span class="kw">if</span> x &gt; <span class="dv">10000</span> =&gt; <span class="st">&quot;Got a pretty big number!&quot;</span></a>
<a class="sourceLine" id="cb1-532" title="532"></a>
<a class="sourceLine" id="cb1-533" title="533">  <span class="co">// You can match case classes as before:</span></a>
<a class="sourceLine" id="cb1-534" title="534">  <span class="kw">case</span> <span class="fu">Person</span>(name, number) =&gt; s<span class="st">&quot;Got contact info for $name!&quot;</span></a>
<a class="sourceLine" id="cb1-535" title="535"></a>
<a class="sourceLine" id="cb1-536" title="536">  <span class="co">// You can match regular expressions:</span></a>
<a class="sourceLine" id="cb1-537" title="537">  <span class="kw">case</span> <span class="fu">email</span>(name, domain) =&gt; s<span class="st">&quot;Got email address $name@$domain&quot;</span></a>
<a class="sourceLine" id="cb1-538" title="538"></a>
<a class="sourceLine" id="cb1-539" title="539">  <span class="co">// You can match tuples:</span></a>
<a class="sourceLine" id="cb1-540" title="540">  <span class="kw">case</span> (a: Int, b: Double, c: String) =&gt; s<span class="st">&quot;Got a tuple: $a, $b, $c&quot;</span></a>
<a class="sourceLine" id="cb1-541" title="541"></a>
<a class="sourceLine" id="cb1-542" title="542">  <span class="co">// You can match data structures:</span></a>
<a class="sourceLine" id="cb1-543" title="543">  <span class="kw">case</span> List(<span class="dv">1</span>, b, c) =&gt; s<span class="st">&quot;Got a list with three elements and starts with 1: 1, $b, $c&quot;</span></a>
<a class="sourceLine" id="cb1-544" title="544"></a>
<a class="sourceLine" id="cb1-545" title="545">  <span class="co">// You can nest patterns:</span></a>
<a class="sourceLine" id="cb1-546" title="546">  <span class="kw">case</span> List(List((<span class="dv">1</span>, <span class="dv">2</span>, <span class="st">&quot;YAY&quot;</span>))) =&gt; <span class="st">&quot;Got a list of list of tuple&quot;</span></a>
<a class="sourceLine" id="cb1-547" title="547"></a>
<a class="sourceLine" id="cb1-548" title="548">  <span class="co">// Match any case (default) if all previous haven&#39;t matched</span></a>
<a class="sourceLine" id="cb1-549" title="549">  <span class="kw">case</span> _ =&gt; <span class="st">&quot;Got unknown object&quot;</span></a>
<a class="sourceLine" id="cb1-550" title="550">}</a>
<a class="sourceLine" id="cb1-551" title="551"></a>
<a class="sourceLine" id="cb1-552" title="552"><span class="co">// In fact, you can pattern match any object with an &quot;unapply&quot; method. This</span></a>
<a class="sourceLine" id="cb1-553" title="553"><span class="co">// feature is so powerful that Scala lets you define whole functions as</span></a>
<a class="sourceLine" id="cb1-554" title="554"><span class="co">// patterns:</span></a>
<a class="sourceLine" id="cb1-555" title="555"><span class="kw">val</span> patternFunc: Person =&gt; String = {</a>
<a class="sourceLine" id="cb1-556" title="556">  <span class="kw">case</span> <span class="fu">Person</span>(<span class="st">&quot;George&quot;</span>, number) =&gt; s<span class="st">&quot;George&#39;s number: $number&quot;</span></a>
<a class="sourceLine" id="cb1-557" title="557">  <span class="kw">case</span> <span class="fu">Person</span>(name, number) =&gt; s<span class="st">&quot;Random person&#39;s number: $number&quot;</span></a>
<a class="sourceLine" id="cb1-558" title="558">}</a>
<a class="sourceLine" id="cb1-559" title="559"></a>
<a class="sourceLine" id="cb1-560" title="560"></a>
<a class="sourceLine" id="cb1-561" title="561"><span class="co">/////////////////////////////////////////////////</span></a>
<a class="sourceLine" id="cb1-562" title="562"><span class="co">// 7. Functional Programming</span></a>
<a class="sourceLine" id="cb1-563" title="563"><span class="co">/////////////////////////////////////////////////</span></a>
<a class="sourceLine" id="cb1-564" title="564"></a>
<a class="sourceLine" id="cb1-565" title="565"><span class="co">// Scala allows methods and functions to return, or take as parameters, other</span></a>
<a class="sourceLine" id="cb1-566" title="566"><span class="co">// functions or methods.</span></a>
<a class="sourceLine" id="cb1-567" title="567"></a>
<a class="sourceLine" id="cb1-568" title="568"><span class="kw">val</span> add10: Int =&gt; Int = _ + <span class="dv">10</span> <span class="co">// A function taking an Int and returning an Int</span></a>
<a class="sourceLine" id="cb1-569" title="569">List(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>) map add10 <span class="co">// List(11, 12, 13) - add10 is applied to each element</span></a>
<a class="sourceLine" id="cb1-570" title="570"></a>
<a class="sourceLine" id="cb1-571" title="571"><span class="co">// Anonymous functions can be used instead of named functions:</span></a>
<a class="sourceLine" id="cb1-572" title="572">List(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>) <span class="fu">map</span> (x =&gt; x + <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb1-573" title="573"></a>
<a class="sourceLine" id="cb1-574" title="574"><span class="co">// And the underscore symbol, can be used if there is just one argument to the</span></a>
<a class="sourceLine" id="cb1-575" title="575"><span class="co">// anonymous function. It gets bound as the variable</span></a>
<a class="sourceLine" id="cb1-576" title="576">List(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>) <span class="fu">map</span> (_ + <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb1-577" title="577"></a>
<a class="sourceLine" id="cb1-578" title="578"><span class="co">// If the anonymous block AND the function you are applying both take one</span></a>
<a class="sourceLine" id="cb1-579" title="579"><span class="co">// argument, you can even omit the underscore</span></a>
<a class="sourceLine" id="cb1-580" title="580">List(<span class="st">&quot;Dom&quot;</span>, <span class="st">&quot;Bob&quot;</span>, <span class="st">&quot;Natalia&quot;</span>) foreach println</a>
<a class="sourceLine" id="cb1-581" title="581"></a>
<a class="sourceLine" id="cb1-582" title="582"></a>
<a class="sourceLine" id="cb1-583" title="583"><span class="co">// Combinators</span></a>
<a class="sourceLine" id="cb1-584" title="584"><span class="co">// Using `s` from above:</span></a>
<a class="sourceLine" id="cb1-585" title="585"><span class="co">// val s = Set(1, 3, 7)</span></a>
<a class="sourceLine" id="cb1-586" title="586"></a>
<a class="sourceLine" id="cb1-587" title="587">s.<span class="fu">map</span>(sq)</a>
<a class="sourceLine" id="cb1-588" title="588"></a>
<a class="sourceLine" id="cb1-589" title="589"><span class="kw">val</span> sSquared = s. <span class="fu">map</span>(sq)</a>
<a class="sourceLine" id="cb1-590" title="590"></a>
<a class="sourceLine" id="cb1-591" title="591">sSquared.<span class="fu">filter</span>(_ &lt; <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb1-592" title="592"></a>
<a class="sourceLine" id="cb1-593" title="593">sSquared.<span class="fu">reduce</span> (_+_)</a>
<a class="sourceLine" id="cb1-594" title="594"></a>
<a class="sourceLine" id="cb1-595" title="595"><span class="co">// The filter function takes a predicate (a function from A -&gt; Boolean) and</span></a>
<a class="sourceLine" id="cb1-596" title="596"><span class="co">// selects all elements which satisfy the predicate</span></a>
<a class="sourceLine" id="cb1-597" title="597">List(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>) <span class="fu">filter</span> (_ &gt; <span class="dv">2</span>) <span class="co">// List(3)</span></a>
<a class="sourceLine" id="cb1-598" title="598"><span class="kw">case</span> <span class="kw">class</span> <span class="fu">Person</span>(name: String, age: Int)</a>
<a class="sourceLine" id="cb1-599" title="599">List(</a>
<a class="sourceLine" id="cb1-600" title="600">  <span class="fu">Person</span>(name = <span class="st">&quot;Dom&quot;</span>, age = <span class="dv">23</span>),</a>
<a class="sourceLine" id="cb1-601" title="601">  <span class="fu">Person</span>(name = <span class="st">&quot;Bob&quot;</span>, age = <span class="dv">30</span>)</a>
<a class="sourceLine" id="cb1-602" title="602">).<span class="fu">filter</span>(_.<span class="fu">age</span> &gt; <span class="dv">25</span>) <span class="co">// List(Person(&quot;Bob&quot;, 30))</span></a>
<a class="sourceLine" id="cb1-603" title="603"></a>
<a class="sourceLine" id="cb1-604" title="604"></a>
<a class="sourceLine" id="cb1-605" title="605"><span class="co">// Certain collections (such as List) in Scala have a `foreach` method,</span></a>
<a class="sourceLine" id="cb1-606" title="606"><span class="co">// which takes as an argument a type returning Unit - that is, a void method</span></a>
<a class="sourceLine" id="cb1-607" title="607"><span class="kw">val</span> aListOfNumbers = List(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">100</span>)</a>
<a class="sourceLine" id="cb1-608" title="608">aListOfNumbers <span class="fu">foreach</span> (x =&gt; <span class="fu">println</span>(x))</a>
<a class="sourceLine" id="cb1-609" title="609">aListOfNumbers foreach println</a>
<a class="sourceLine" id="cb1-610" title="610"></a>
<a class="sourceLine" id="cb1-611" title="611"><span class="co">// For comprehensions</span></a>
<a class="sourceLine" id="cb1-612" title="612"></a>
<a class="sourceLine" id="cb1-613" title="613"><span class="kw">for</span> { n &lt;- s } <span class="kw">yield</span> <span class="fu">sq</span>(n)</a>
<a class="sourceLine" id="cb1-614" title="614"></a>
<a class="sourceLine" id="cb1-615" title="615"><span class="kw">val</span> nSquared2 = <span class="kw">for</span> { n &lt;- s } <span class="kw">yield</span> <span class="fu">sq</span>(n)</a>
<a class="sourceLine" id="cb1-616" title="616"></a>
<a class="sourceLine" id="cb1-617" title="617"><span class="kw">for</span> { n &lt;- nSquared2 <span class="kw">if</span> n &lt; <span class="dv">10</span> } <span class="kw">yield</span> n</a>
<a class="sourceLine" id="cb1-618" title="618"></a>
<a class="sourceLine" id="cb1-619" title="619"><span class="kw">for</span> { n &lt;- s; nSquared = n * n <span class="kw">if</span> nSquared &lt; <span class="dv">10</span>} <span class="kw">yield</span> nSquared</a>
<a class="sourceLine" id="cb1-620" title="620"></a>
<a class="sourceLine" id="cb1-621" title="621"><span class="co">/* NB Those were not for loops. The semantics of a for loop is &#39;repeat&#39;, whereas</span></a>
<a class="sourceLine" id="cb1-622" title="622"><span class="co">   a for-comprehension defines a relationship between two sets of data. */</span></a>
<a class="sourceLine" id="cb1-623" title="623"></a>
<a class="sourceLine" id="cb1-624" title="624"></a>
<a class="sourceLine" id="cb1-625" title="625"><span class="co">/////////////////////////////////////////////////</span></a>
<a class="sourceLine" id="cb1-626" title="626"><span class="co">// 8. Implicits</span></a>
<a class="sourceLine" id="cb1-627" title="627"><span class="co">/////////////////////////////////////////////////</span></a>
<a class="sourceLine" id="cb1-628" title="628"></a>
<a class="sourceLine" id="cb1-629" title="629"><span class="co">/* WARNING WARNING: Implicits are a set of powerful features of Scala, and</span></a>
<a class="sourceLine" id="cb1-630" title="630"><span class="co"> * therefore it is easy to abuse them. Beginners to Scala should resist the</span></a>
<a class="sourceLine" id="cb1-631" title="631"><span class="co"> * temptation to use them until they understand not only how they work, but also</span></a>
<a class="sourceLine" id="cb1-632" title="632"><span class="co"> * best practices around them. We only include this section in the tutorial</span></a>
<a class="sourceLine" id="cb1-633" title="633"><span class="co"> * because they are so commonplace in Scala libraries that it is impossible to</span></a>
<a class="sourceLine" id="cb1-634" title="634"><span class="co"> * do anything meaningful without using a library that has implicits. This is</span></a>
<a class="sourceLine" id="cb1-635" title="635"><span class="co"> * meant for you to understand and work with implicits, not declare your own.</span></a>
<a class="sourceLine" id="cb1-636" title="636"><span class="co"> */</span></a>
<a class="sourceLine" id="cb1-637" title="637"></a>
<a class="sourceLine" id="cb1-638" title="638"><span class="co">// Any value (vals, functions, objects, etc) can be declared to be implicit by</span></a>
<a class="sourceLine" id="cb1-639" title="639"><span class="co">// using the, you guessed it, &quot;implicit&quot; keyword. Note we are using the Dog</span></a>
<a class="sourceLine" id="cb1-640" title="640"><span class="co">// class from section 5 in these examples.</span></a>
<a class="sourceLine" id="cb1-641" title="641"><span class="kw">implicit</span> <span class="kw">val</span> myImplicitInt = <span class="dv">100</span></a>
<a class="sourceLine" id="cb1-642" title="642"><span class="kw">implicit</span> <span class="kw">def</span> <span class="fu">myImplicitFunction</span>(breed: String) = <span class="kw">new</span> <span class="fu">Dog</span>(<span class="st">&quot;Golden &quot;</span> + breed)</a>
<a class="sourceLine" id="cb1-643" title="643"></a>
<a class="sourceLine" id="cb1-644" title="644"><span class="co">// By itself, implicit keyword doesn&#39;t change the behavior of the value, so</span></a>
<a class="sourceLine" id="cb1-645" title="645"><span class="co">// above values can be used as usual.</span></a>
<a class="sourceLine" id="cb1-646" title="646">myImplicitInt + <span class="dv">2</span>                   <span class="co">// =&gt; 102</span></a>
<a class="sourceLine" id="cb1-647" title="647"><span class="fu">myImplicitFunction</span>(<span class="st">&quot;Pitbull&quot;</span>).<span class="fu">breed</span> <span class="co">// =&gt; &quot;Golden Pitbull&quot;</span></a>
<a class="sourceLine" id="cb1-648" title="648"></a>
<a class="sourceLine" id="cb1-649" title="649"><span class="co">// The difference is that these values are now eligible to be used when another</span></a>
<a class="sourceLine" id="cb1-650" title="650"><span class="co">// piece of code &quot;needs&quot; an implicit value. One such situation is implicit</span></a>
<a class="sourceLine" id="cb1-651" title="651"><span class="co">// function arguments:</span></a>
<a class="sourceLine" id="cb1-652" title="652"><span class="kw">def</span> <span class="fu">sendGreetings</span>(toWhom: String)(<span class="kw">implicit</span> howMany: Int) =</a>
<a class="sourceLine" id="cb1-653" title="653">  s<span class="st">&quot;Hello $toWhom, $howMany blessings to you and yours!&quot;</span></a>
<a class="sourceLine" id="cb1-654" title="654"></a>
<a class="sourceLine" id="cb1-655" title="655"><span class="co">// If we supply a value for &quot;howMany&quot;, the function behaves as usual</span></a>
<a class="sourceLine" id="cb1-656" title="656"><span class="fu">sendGreetings</span>(<span class="st">&quot;John&quot;</span>)(<span class="dv">1000</span>)  <span class="co">// =&gt; &quot;Hello John, 1000 blessings to you and yours!&quot;</span></a>
<a class="sourceLine" id="cb1-657" title="657"></a>
<a class="sourceLine" id="cb1-658" title="658"><span class="co">// But if we omit the implicit parameter, an implicit value of the same type is</span></a>
<a class="sourceLine" id="cb1-659" title="659"><span class="co">// used, in this case, &quot;myImplicitInt&quot;:</span></a>
<a class="sourceLine" id="cb1-660" title="660"><span class="fu">sendGreetings</span>(<span class="st">&quot;Jane&quot;</span>)  <span class="co">// =&gt; &quot;Hello Jane, 100 blessings to you and yours!&quot;</span></a>
<a class="sourceLine" id="cb1-661" title="661"></a>
<a class="sourceLine" id="cb1-662" title="662"><span class="co">// Implicit function parameters enable us to simulate type classes in other</span></a>
<a class="sourceLine" id="cb1-663" title="663"><span class="co">// functional languages. It is so often used that it gets its own shorthand. The</span></a>
<a class="sourceLine" id="cb1-664" title="664"><span class="co">// following two lines mean the same thing:</span></a>
<a class="sourceLine" id="cb1-665" title="665"><span class="co">// def foo[T](implicit c: C[T]) = ...</span></a>
<a class="sourceLine" id="cb1-666" title="666"><span class="co">// def foo[T : C] = ...</span></a>
<a class="sourceLine" id="cb1-667" title="667"></a>
<a class="sourceLine" id="cb1-668" title="668"></a>
<a class="sourceLine" id="cb1-669" title="669"><span class="co">// Another situation in which the compiler looks for an implicit is if you have</span></a>
<a class="sourceLine" id="cb1-670" title="670"><span class="co">//   obj.method(...)</span></a>
<a class="sourceLine" id="cb1-671" title="671"><span class="co">// but &quot;obj&quot; doesn&#39;t have &quot;method&quot; as a method. In this case, if there is an</span></a>
<a class="sourceLine" id="cb1-672" title="672"><span class="co">// implicit conversion of type A =&gt; B, where A is the type of obj, and B has a</span></a>
<a class="sourceLine" id="cb1-673" title="673"><span class="co">// method called &quot;method&quot;, that conversion is applied. So having</span></a>
<a class="sourceLine" id="cb1-674" title="674"><span class="co">// myImplicitFunction above in scope, we can say:</span></a>
<a class="sourceLine" id="cb1-675" title="675"><span class="st">&quot;Retriever&quot;</span>.<span class="fu">breed</span> <span class="co">// =&gt; &quot;Golden Retriever&quot;</span></a>
<a class="sourceLine" id="cb1-676" title="676"><span class="st">&quot;Sheperd&quot;</span>.<span class="fu">bark</span>    <span class="co">// =&gt; &quot;Woof, woof!&quot;</span></a>
<a class="sourceLine" id="cb1-677" title="677"></a>
<a class="sourceLine" id="cb1-678" title="678"><span class="co">// Here the String is first converted to Dog using our function above, and then</span></a>
<a class="sourceLine" id="cb1-679" title="679"><span class="co">// the appropriate method is called. This is an extremely powerful feature, but</span></a>
<a class="sourceLine" id="cb1-680" title="680"><span class="co">// again, it is not to be used lightly. In fact, when you defined the implicit</span></a>
<a class="sourceLine" id="cb1-681" title="681"><span class="co">// function above, your compiler should have given you a warning, that you</span></a>
<a class="sourceLine" id="cb1-682" title="682"><span class="co">// shouldn&#39;t do this unless you really know what you&#39;re doing.</span></a>
<a class="sourceLine" id="cb1-683" title="683"></a>
<a class="sourceLine" id="cb1-684" title="684"></a>
<a class="sourceLine" id="cb1-685" title="685"><span class="co">/////////////////////////////////////////////////</span></a>
<a class="sourceLine" id="cb1-686" title="686"><span class="co">// 9. Misc</span></a>
<a class="sourceLine" id="cb1-687" title="687"><span class="co">/////////////////////////////////////////////////</span></a>
<a class="sourceLine" id="cb1-688" title="688"></a>
<a class="sourceLine" id="cb1-689" title="689"><span class="co">// Importing things</span></a>
<a class="sourceLine" id="cb1-690" title="690"><span class="kw">import</span> scala.<span class="fu">collection</span>.<span class="fu">immutable</span>.<span class="fu">List</span></a>
<a class="sourceLine" id="cb1-691" title="691"></a>
<a class="sourceLine" id="cb1-692" title="692"><span class="co">// Import all &quot;sub packages&quot;</span></a>
<a class="sourceLine" id="cb1-693" title="693"><span class="kw">import</span> scala.<span class="fu">collection</span>.<span class="fu">immutable</span>._</a>
<a class="sourceLine" id="cb1-694" title="694"></a>
<a class="sourceLine" id="cb1-695" title="695"><span class="co">// Import multiple classes in one statement</span></a>
<a class="sourceLine" id="cb1-696" title="696"><span class="kw">import</span> scala.<span class="fu">collection</span>.<span class="fu">immutable</span>.{List, Map}</a>
<a class="sourceLine" id="cb1-697" title="697"></a>
<a class="sourceLine" id="cb1-698" title="698"><span class="co">// Rename an import using &#39;=&gt;&#39;</span></a>
<a class="sourceLine" id="cb1-699" title="699"><span class="kw">import</span> scala.<span class="fu">collection</span>.<span class="fu">immutable</span>.{List =&gt; ImmutableList}</a>
<a class="sourceLine" id="cb1-700" title="700"></a>
<a class="sourceLine" id="cb1-701" title="701"><span class="co">// Import all classes, except some. The following excludes Map and Set:</span></a>
<a class="sourceLine" id="cb1-702" title="702"><span class="kw">import</span> scala.<span class="fu">collection</span>.<span class="fu">immutable</span>.{Map =&gt; _, Set =&gt; _, _}</a>
<a class="sourceLine" id="cb1-703" title="703"></a>
<a class="sourceLine" id="cb1-704" title="704"><span class="co">// Java classes can also be imported. Scala syntax can be used</span></a>
<a class="sourceLine" id="cb1-705" title="705"><span class="kw">import</span> java.<span class="fu">swing</span>.{JFrame, JWindow}</a>
<a class="sourceLine" id="cb1-706" title="706"></a>
<a class="sourceLine" id="cb1-707" title="707"><span class="co">// Your programs entry point is defined in a scala file using an object, with a</span></a>
<a class="sourceLine" id="cb1-708" title="708"><span class="co">// single method, main:</span></a>
<a class="sourceLine" id="cb1-709" title="709"><span class="kw">object</span> Application {</a>
<a class="sourceLine" id="cb1-710" title="710">  <span class="kw">def</span> <span class="fu">main</span>(args: Array[String]): Unit = {</a>
<a class="sourceLine" id="cb1-711" title="711">    <span class="co">// stuff goes here.</span></a>
<a class="sourceLine" id="cb1-712" title="712">  }</a>
<a class="sourceLine" id="cb1-713" title="713">}</a>
<a class="sourceLine" id="cb1-714" title="714"></a>
<a class="sourceLine" id="cb1-715" title="715"><span class="co">// Files can contain multiple classes and objects. Compile with scalac</span></a>
<a class="sourceLine" id="cb1-716" title="716"></a>
<a class="sourceLine" id="cb1-717" title="717"></a>
<a class="sourceLine" id="cb1-718" title="718"></a>
<a class="sourceLine" id="cb1-719" title="719"></a>
<a class="sourceLine" id="cb1-720" title="720"><span class="co">// Input and output</span></a>
<a class="sourceLine" id="cb1-721" title="721"></a>
<a class="sourceLine" id="cb1-722" title="722"><span class="co">// To read a file line by line</span></a>
<a class="sourceLine" id="cb1-723" title="723"><span class="kw">import</span> scala.<span class="fu">io</span>.<span class="fu">Source</span></a>
<a class="sourceLine" id="cb1-724" title="724"><span class="kw">for</span>(line &lt;- Source.<span class="fu">fromFile</span>(<span class="st">&quot;myfile.txt&quot;</span>).<span class="fu">getLines</span>())</a>
<a class="sourceLine" id="cb1-725" title="725">  <span class="fu">println</span>(line)</a>
<a class="sourceLine" id="cb1-726" title="726"></a>
<a class="sourceLine" id="cb1-727" title="727"><span class="co">// To write a file use Java&#39;s PrintWriter</span></a>
<a class="sourceLine" id="cb1-728" title="728"><span class="kw">val</span> writer = <span class="kw">new</span> PrintWriter(<span class="st">&quot;myfile.txt&quot;</span>)</a>
<a class="sourceLine" id="cb1-729" title="729">writer.<span class="fu">write</span>(<span class="st">&quot;Writing line for line&quot;</span> + util.<span class="fu">Properties</span>.<span class="fu">lineSeparator</span>)</a>
<a class="sourceLine" id="cb1-730" title="730">writer.<span class="fu">write</span>(<span class="st">&quot;Another line here&quot;</span> + util.<span class="fu">Properties</span>.<span class="fu">lineSeparator</span>)</a>
<a class="sourceLine" id="cb1-731" title="731">writer.<span class="fu">close</span>()</a></code></pre></div>
<h2 id="further-resources">Further resources</h2>
<ul>
<li><a href="http://horstmann.com/scala/">Scala for the impatient</a></li>
<li><a href="http://twitter.github.io/scala_school/">Twitter Scala school</a></li>
<li><a href="http://docs.scala-lang.org/">The scala documentation</a></li>
<li><a href="http://scalatutorials.com/tour/">Try Scala in your browser</a></li>
<li>Join the <a href="https://groups.google.com/forum/#!forum/scala-user">Scala user group</a></li>
</ul>
</body>
</html>
